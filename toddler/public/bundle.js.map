{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/Arrow.ts","src/Game.ts","src/GameState.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/// <reference path=\"./libs/phaser.d.ts\" />\r\n\r\nexport namespace ToddlerGame\r\n{\r\n    export class Arrow extends Phaser.Sprite\r\n    {\r\n        direction: number;\r\n        constructor(game: Phaser.Game, x: number, y: number)\r\n        {\r\n            super(game, x, y, 'arrow');\r\n        }\r\n    }\r\n}\r\n","/// <reference path=\"./libs/phaser.d.ts\" />\r\n\r\nimport * as GameStateModule from \"./GameState\";\r\nimport GameState = GameStateModule.ToddlerGame.GameState;\r\n\r\nexport namespace ToddlerGame\r\n{\r\n    export class Game extends Phaser.Game\r\n    {\r\n        constructor()\r\n        {\r\n            super(640, 360, Phaser.AUTO, '');\r\n            this.state.add('GameState', GameState);\r\n            this.state.start('GameState');\r\n        }\r\n    }\r\n}\r\n\r\nwindow.onload = function ()\r\n{\r\n    new ToddlerGame.Game();\r\n};\r\n","/// <reference path=\"./libs/phaser.d.ts\" />\r\n\r\nimport * as ArrowModule from \"./Arrow\";\r\nimport Arrow = ArrowModule.ToddlerGame.Arrow;\r\n\r\nimport * as IAnimalDataModule from \"./IAnimalData\";\r\nimport IAnimalData = IAnimalDataModule.ToddlerGame.IAnimalData;\r\n\r\nimport * as AnimalModule from \"./Animal\";\r\nimport Animal = AnimalModule.ToddlerGame.Animal;\r\n\r\nexport namespace ToddlerGame\r\n{\r\n    export class GameState extends Phaser.State\r\n    {\r\n        background: Phaser.Sprite;\r\n        animals: Phaser.Group;\r\n        currentAnimal: any;\r\n        leftArrow: Arrow;\r\n        rightArrow: Arrow;\r\n        isMoving: boolean;\r\n        animalText: Phaser.Text;\r\n\r\n        init()\r\n        {\r\n            this.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n            this.scale.pageAlignHorizontally = true;\r\n            this.scale.pageAlignVertically = true;\r\n        }\r\n\r\n        preload()\r\n        {\r\n            this.load.image('background', './assets/images/background.png');\r\n            this.load.image('arrow', './assets/images/arrow.png');\r\n            this.load.spritesheet('chicken', './assets/images/chicken_spritesheet.png', 131, 200, 3);\r\n            this.load.spritesheet('horse', './assets/images/horse_spritesheet.png', 212, 200, 3);\r\n            this.load.spritesheet('pig', './assets/images/pig_spritesheet.png', 297, 200, 3);\r\n            this.load.spritesheet('sheep', './assets/images/sheep_spritesheet.png', 244, 200, 3);\r\n            this.load.audio('chickenSound', ['./assets/audio/chicken.ogg', './assets/audio/chicken.mp3']);\r\n            this.load.audio('horseSound', ['./assets/audio/horse.ogg', './assets/audio/horse.mp3']);\r\n            this.load.audio('pigSound', ['./assets/audio/pig.ogg', './assets/audio/pig.mp3']);\r\n            this.load.audio('sheepSound', ['./assets/audio/sheep.ogg', './assets/audio/sheep.mp3']);\r\n        }\r\n\r\n        create()\r\n        {\r\n            this.background = this.game.add.sprite(0, 0, 'background');\r\n\r\n            let animalData: IAnimalData[] = [\r\n                { key: 'chicken', text: 'CHICKEN', sound: 'chickenSound' },\r\n                { key: 'horse', text: 'HORSE', sound: 'horseSound' },\r\n                { key: 'pig', text: 'PIG', sound: 'pigSound' },\r\n                { key: 'sheep', text: 'SHEEP', sound: 'sheepSound' }\r\n            ];\r\n\r\n            this.animals = this.game.add.group();\r\n\r\n            let animal: Animal;\r\n            animalData.forEach((element: IAnimalData) =>\r\n            {\r\n                animal = this.animals.create(-1000, this.game.world.centerY, element.key, 0);\r\n                animal.text = element.text;\r\n                animal.sound = this.game.add.audio(element.sound);\r\n                animal.anchor.setTo(0.5);\r\n                animal.animations.add('animate', [0, 1, 2, 1, 0, 1], 3, false);\r\n                animal.inputEnabled = true;\r\n                animal.input.pixelPerfectClick = true;\r\n                animal.events.onInputDown.add(this.animateAnimal, this);\r\n            });\r\n\r\n            this.currentAnimal = this.animals.next();\r\n            this.currentAnimal.position.set(this.game.world.centerX, this.game.world.centerY);\r\n            this.showText(this.currentAnimal);\r\n\r\n            this.leftArrow = new Arrow(this.game, 60, this.game.world.centerY);\r\n            this.game.add.existing(this.leftArrow);\r\n            this.leftArrow.anchor.setTo(0.5);\r\n            this.leftArrow.scale.x = -1;\r\n            this.leftArrow.direction = -1;\r\n            this.leftArrow.inputEnabled = true;\r\n            this.leftArrow.input.pixelPerfectClick = true;\r\n            this.leftArrow.events.onInputDown.add(this.switchAnimal, this);\r\n\r\n            this.rightArrow = new Arrow(this.game, this.game.world.width - 60, this.game.world.centerY);\r\n            this.game.add.existing(this.rightArrow);\r\n            this.rightArrow.anchor.setTo(0.5);\r\n            this.rightArrow.direction = 1;\r\n            this.rightArrow.inputEnabled = true;\r\n            this.rightArrow.input.pixelPerfectClick = true;\r\n            this.rightArrow.events.onInputDown.add(this.switchAnimal, this);\r\n        }\r\n\r\n        animateAnimal(sprite: Animal)\r\n        {\r\n            sprite.play('animate');\r\n            sprite.sound.play();\r\n        }\r\n\r\n        switchAnimal(sprite: Arrow)\r\n        {\r\n            if (this.isMoving)\r\n            {\r\n                return false;\r\n            }\r\n            this.isMoving = true;\r\n            this.animalText.visible = false;\r\n\r\n            let newAnimal: any, endX: number;\r\n            if (sprite.direction > 0)\r\n            {\r\n                newAnimal = this.animals.next();\r\n                newAnimal.x = -newAnimal.width / 2;\r\n                endX = 640 + this.currentAnimal.width / 2;\r\n            }\r\n            else\r\n            {\r\n                newAnimal = this.animals.previous();\r\n                newAnimal.x = 640 + newAnimal.width / 2;\r\n                endX = -this.currentAnimal.width / 2;\r\n            }\r\n\r\n            let newAnimalMovement = this.add.tween(newAnimal);\r\n            newAnimalMovement.to({ x: this.game.world.centerX }, 1000);\r\n            newAnimalMovement.onComplete.add(() =>\r\n            {\r\n                this.isMoving = false;\r\n                this.showText(newAnimal);\r\n            });\r\n            newAnimalMovement.start();\r\n\r\n            let currentAnimalMovement = this.add.tween(this.currentAnimal);\r\n            currentAnimalMovement.to({ x: endX }, 1000).start();\r\n\r\n            this.currentAnimal = newAnimal;\r\n        }\r\n\r\n        showText(animal: Animal)\r\n        {\r\n            if (!this.animalText)\r\n            {\r\n                let style = {\r\n                    font: 'bold 30pt Arial',\r\n                    fill: \"#D0171B\",\r\n                    align: \"center\"\r\n                };\r\n                this.animalText = this.game.add.text(this.game.width / 2, this.game.height * 0.85, '', style);\r\n                this.animalText.anchor.set(0.5, 0.5);\r\n            }\r\n            this.animalText.setText(animal.text);\r\n            this.animalText.visible = true;\r\n        }\r\n    }\r\n}\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvQXJyb3cudHMiLCJzcmMvR2FtZS50cyIsInNyYy9HYW1lU3RhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FDQUEsMkNBQTJDOzs7Ozs7Ozs7Ozs7QUFFM0MsSUFBaUIsV0FBVyxDQVUzQjtBQVZELFdBQWlCLFdBQVc7SUFFeEI7UUFBMkIseUJBQWE7UUFHcEMsZUFBWSxJQUFpQixFQUFFLENBQVMsRUFBRSxDQUFTO21CQUUvQyxrQkFBTSxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxPQUFPLENBQUM7UUFDOUIsQ0FBQztRQUNMLFlBQUM7SUFBRCxDQVBBLEFBT0MsQ0FQMEIsTUFBTSxDQUFDLE1BQU0sR0FPdkM7SUFQWSxpQkFBSyxRQU9qQixDQUFBO0FBQ0wsQ0FBQyxFQVZnQixXQUFXLEdBQVgsbUJBQVcsS0FBWCxtQkFBVyxRQVUzQjs7O0FDWkQsMkNBQTJDOzs7Ozs7Ozs7Ozs7QUFFM0MsNkNBQStDO0FBQy9DLElBQU8sU0FBUyxHQUFHLGVBQWUsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDO0FBRXpELElBQWlCLFdBQVcsQ0FXM0I7QUFYRCxXQUFpQixXQUFXO0lBRXhCO1FBQTBCLHdCQUFXO1FBRWpDO1lBQUEsWUFFSSxrQkFBTSxHQUFHLEVBQUUsR0FBRyxFQUFFLE1BQU0sQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLFNBR25DO1lBRkcsS0FBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1lBQ3ZDLEtBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDOztRQUNsQyxDQUFDO1FBQ0wsV0FBQztJQUFELENBUkEsQUFRQyxDQVJ5QixNQUFNLENBQUMsSUFBSSxHQVFwQztJQVJZLGdCQUFJLE9BUWhCLENBQUE7QUFDTCxDQUFDLEVBWGdCLFdBQVcsR0FBWCxtQkFB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QUFJLEVBQUUsU0FBUztvQkFDZixLQUFLLEVBQUUsUUFBUTtpQkFDbEIsQ0FBQztnQkFDRixJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxFQUFFLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDOUYsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUN6QyxDQUFDO1lBQ0QsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3JDLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUNuQyxDQUFDO1FBQ0wsZ0JBQUM7SUFBRCxDQTFJQSxBQTBJQyxDQTFJOEIsTUFBTSxDQUFDLEtBQUssR0EwSTFDO0lBMUlZLHFCQUFTLFlBMElyQixDQUFBO0FBQ0wsQ0FBQyxFQTdJZ0IsV0FBVyxHQUFYLG1CQUFXLEtBQVgsbUJBQVcsUUE2STNCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL2xpYnMvcGhhc2VyLmQudHNcIiAvPlxyXG5cclxuZXhwb3J0IG5hbWVzcGFjZSBUb2RkbGVyR2FtZVxyXG57XHJcbiAgICBleHBvcnQgY2xhc3MgQXJyb3cgZXh0ZW5kcyBQaGFzZXIuU3ByaXRlXHJcbiAgICB7XHJcbiAgICAgICAgZGlyZWN0aW9uOiBudW1iZXI7XHJcbiAgICAgICAgY29uc3RydWN0b3IoZ2FtZTogUGhhc2VyLkdhbWUsIHg6IG51bWJlciwgeTogbnVtYmVyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc3VwZXIoZ2FtZSwgeCwgeSwgJ2Fycm93Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL2xpYnMvcGhhc2VyLmQudHNcIiAvPlxyXG5cclxuaW1wb3J0ICogYXMgR2FtZVN0YXRlTW9kdWxlIGZyb20gXCIuL0dhbWVTdGF0ZVwiO1xyXG5pbXBvcnQgR2FtZVN0YXRlID0gR2FtZVN0YXRlTW9kdWxlLlRvZGRsZXJHYW1lLkdhbWVTdGF0ZTtcclxuXHJcbmV4cG9ydCBuYW1lc3BhY2UgVG9kZGxlckdhbWVcclxue1xyXG4gICAgZXhwb3J0IGNsYXNzIEdhbWUgZXh0ZW5kcyBQaGFzZXIuR2FtZVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHN1cGVyKDY0MCwgMzYwLCBQaGFzZXIuQVVUTywgJycpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmFkZCgnR2FtZVN0YXRlJywgR2FtZVN0YXRlKTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5zdGFydCgnR2FtZVN0YXRlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKClcclxue1xyXG4gICAgbmV3IFRvZGRsZXJHYW1lLkdhbWUoKTtcclxufTtcclxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vbGlicy9waGFzZXIuZC50c1wiIC8+XHJcblxyXG5pbXBvcnQgKiBhcyBBcnJvd01vZHVsZSBmcm9tIFwiLi9BcnJvd1wiO1xyXG5pbXBvcnQgQXJyb3cgPSBBcnJvd01vZHVsZS5Ub2RkbGVyR2FtZS5BcnJvdztcclxuXHJcbmltcG9ydCAqIGFzIElBbmltYWxEYXRhTW9kdWxlIGZyb20gXCIuL0lBbmltYWxEYXRhXCI7XHJcbmltcG9ydCBJQW5pbWFsRGF0YSA9IElBbmltYWxEYXRhTW9kdWxlLlRvZGRsZXJHYW1lLklBbmltYWxEYXRhO1xyXG5cclxuaW1wb3J0ICogYXMgQW5pbWFsTW9kdWxlIGZyb20gXCIuL0FuaW1hbFwiO1xyXG5pbXBvcnQgQW5pbWFsID0gQW5pbWFsTW9kdWxlLlRvZGRsZXJHYW1lLkFuaW1hbDtcclxuXHJcbmV4cG9ydCBuYW1lc3BhY2UgVG9kZGxlckdhbWVcclxue1xyXG4gICAgZXhwb3J0IGNsYXNzIEdhbWVTdGF0ZSBleHRlbmRzIFBoYXNlci5TdGF0ZVxyXG4gICAge1xyXG4gICAgICAgIGJhY2tncm91bmQ6IFBoYXNlci5TcHJpdGU7XHJcbiAgICAgICAgYW5pbWFsczogUGhhc2VyLkdyb3VwO1xyXG4gICAgICAgIGN1cnJlbnRBbmltYWw6IGFueTtcclxuICAgICAgICBsZWZ0QXJyb3c6IEFycm93O1xyXG4gICAgICAgIHJpZ2h0QXJyb3c6IEFycm93O1xyXG4gICAgICAgIGlzTW92aW5nOiBib29sZWFuO1xyXG4gICAgICAgIGFuaW1hbFRleHQ6IFBoYXNlci5UZXh0O1xyXG5cclxuICAgICAgICBpbml0KClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NhbGUuc2NhbGVNb2RlID0gUGhhc2VyLlNjYWxlTWFuYWdlci5TSE9XX0FMTDtcclxuICAgICAgICAgICAgdGhpcy5zY2FsZS5wYWdlQWxpZ25Ib3Jpem9udGFsbHkgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnNjYWxlLnBhZ2VBbGlnblZlcnRpY2FsbHkgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJlbG9hZCgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JhY2tncm91bmQnLCAnLi9hc3NldHMvaW1hZ2VzL2JhY2tncm91bmQucG5nJyk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYXJyb3cnLCAnLi9hc3NldHMvaW1hZ2VzL2Fycm93LnBuZycpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ2NoaWNrZW4nLCAnLi9hc3NldHMvaW1hZ2VzL2NoaWNrZW5fc3ByaXRlc2hlZXQucG5nJywgMTMxLCAyMDAsIDMpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ2hvcnNlJywgJy4vYXNzZXRzL2ltYWdlcy9ob3JzZV9zcHJpdGVzaGVldC5wbmcnLCAyMTIsIDIwMCwgMyk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgncGlnJywgJy4vYXNzZXRzL2ltYWdlcy9waWdfc3ByaXRlc2hlZXQucG5nJywgMjk3LCAyMDAsIDMpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3NoZWVwJywgJy4vYXNzZXRzL2ltYWdlcy9zaGVlcF9zcHJpdGVzaGVldC5wbmcnLCAyNDQsIDIwMCwgMyk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZC5hdWRpbygnY2hpY2tlblNvdW5kJywgWycuL2Fzc2V0cy9hdWRpby9jaGlja2VuLm9nZycsICcuL2Fzc2V0cy9hdWRpby9jaGlja2VuLm1wMyddKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdob3JzZVNvdW5kJywgWycuL2Fzc2V0cy9hdWRpby9ob3JzZS5vZ2cnLCAnLi9hc3NldHMvYXVkaW8vaG9yc2UubXAzJ10pO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3BpZ1NvdW5kJywgWycuL2Fzc2V0cy9hdWRpby9waWcub2dnJywgJy4vYXNzZXRzL2F1ZGlvL3BpZy5tcDMnXSk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZC5hdWRpbygnc2hlZXBTb3VuZCcsIFsnLi9hc3NldHMvYXVkaW8vc2hlZXAub2dnJywgJy4vYXNzZXRzL2F1ZGlvL3NoZWVwLm1wMyddKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNyZWF0ZSgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmQgPSB0aGlzLmdhbWUuYWRkLnNwcml0ZSgwLCAwLCAnYmFja2dyb3VuZCcpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGFuaW1hbERhdGE6IElBbmltYWxEYXRhW10gPSBbXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ2NoaWNrZW4nLCB0ZXh0OiAnQ0hJQ0tFTicsIHNvdW5kOiAnY2hpY2tlblNvdW5kJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6ICdob3JzZScsIHRleHQ6ICdIT1JTRScsIHNvdW5kOiAnaG9yc2VTb3VuZCcgfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiAncGlnJywgdGV4dDogJ1BJRycsIHNvdW5kOiAncGlnU291bmQnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogJ3NoZWVwJywgdGV4dDogJ1NIRUVQJywgc291bmQ6ICdzaGVlcFNvdW5kJyB9XHJcbiAgICAgICAgICAgIF07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hbHMgPSB0aGlzLmdhbWUuYWRkLmdyb3VwKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgYW5pbWFsOiBBbmltYWw7XHJcbiAgICAgICAgICAgIGFuaW1hbERhdGEuZm9yRWFjaCgoZWxlbWVudDogSUFuaW1hbERhdGEpID0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGFuaW1hbCA9IHRoaXMuYW5pbWFscy5jcmVhdGUoLTEwMDAsIHRoaXMuZ2FtZS53b3JsZC5jZW50ZXJZLCBlbGVtZW50LmtleSwgMCk7XHJcbiAgICAgICAgICAgICAgICBhbmltYWwudGV4dCA9IGVsZW1lbnQudGV4dDtcclxuICAgICAgICAgICAgICAgIGFuaW1hbC5zb3VuZCA9IHRoaXMuZ2FtZS5hZGQuYXVkaW8oZWxlbWVudC5zb3VuZCk7XHJcbiAgICAgICAgICAgICAgICBhbmltYWwuYW5jaG9yLnNldFRvKDAuNSk7XHJcbiAgICAgICAgICAgICAgICBhbmltYWwuYW5pbWF0aW9ucy5hZGQoJ2FuaW1hdGUnLCBbMCwgMSwgMiwgMSwgMCwgMV0sIDMsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIGFuaW1hbC5pbnB1dEVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYW5pbWFsLmlucHV0LnBpeGVsUGVyZmVjdENsaWNrID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGFuaW1hbC5ldmVudHMub25JbnB1dERvd24uYWRkKHRoaXMuYW5pbWF0ZUFuaW1hbCwgdGhpcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50QW5pbWFsID0gdGhpcy5hbmltYWxzLm5leHQoKTtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50QW5pbWFsLnBvc2l0aW9uLnNldCh0aGlzLmdhbWUud29ybGQuY2VudGVyWCwgdGhpcy5nYW1lLndvcmxkLmNlbnRlclkpO1xyXG4gICAgICAgICAgICB0aGlzLnNob3dUZXh0KHRoaXMuY3VycmVudEFuaW1hbCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxlZnRBcnJvdyA9IG5ldyBBcnJvdyh0aGlzLmdhbWUsIDYwLCB0aGlzLmdhbWUud29ybGQuY2VudGVyWSk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5hZGQuZXhpc3RpbmcodGhpcy5sZWZ0QXJyb3cpO1xyXG4gICAgICAgICAgICB0aGlzLmxlZnRBcnJvdy5hbmNob3Iuc2V0VG8oMC41KTtcclxuICAgICAgICAgICAgdGhpcy5sZWZ0QXJyb3cuc2NhbGUueCA9IC0xO1xyXG4gICAgICAgICAgICB0aGlzLmxlZnRBcnJvdy5kaXJlY3Rpb24gPSAtMTtcclxuICAgICAgICAgICAgdGhpcy5sZWZ0QXJyb3cuaW5wdXRFbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5sZWZ0QXJyb3cuaW5wdXQucGl4ZWxQZXJmZWN0Q2xpY2sgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmxlZnRBcnJvdy5ldmVudHMub25JbnB1dERvd24uYWRkKHRoaXMuc3dpdGNoQW5pbWFsLCB0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmlnaHRBcnJvdyA9IG5ldyBBcnJvdyh0aGlzLmdhbWUsIHRoaXMuZ2FtZS53b3JsZC53aWR0aCAtIDYwLCB0aGlzLmdhbWUud29ybGQuY2VudGVyWSk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5hZGQuZXhpc3RpbmcodGhpcy5yaWdodEFycm93KTtcclxuICAgICAgICAgICAgdGhpcy5yaWdodEFycm93LmFuY2hvci5zZXRUbygwLjUpO1xyXG4gICAgICAgICAgICB0aGlzLnJpZ2h0QXJyb3cuZGlyZWN0aW9uID0gMTtcclxuICAgICAgICAgICAgdGhpcy5yaWdodEFycm93LmlucHV0RW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMucmlnaHRBcnJvdy5pbnB1dC5waXhlbFBlcmZlY3RDbGljayA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMucmlnaHRBcnJvdy5ldmVudHMub25JbnB1dERvd24uYWRkKHRoaXMuc3dpdGNoQW5pbWFsLCB0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGFuaW1hdGVBbmltYWwoc3ByaXRlOiBBbmltYWwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBzcHJpdGUucGxheSgnYW5pbWF0ZScpO1xyXG4gICAgICAgICAgICBzcHJpdGUuc291bmQucGxheSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3dpdGNoQW5pbWFsKHNwcml0ZTogQXJyb3cpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc01vdmluZylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuaXNNb3ZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hbFRleHQudmlzaWJsZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgbGV0IG5ld0FuaW1hbDogYW55LCBlbmRYOiBudW1iZXI7XHJcbiAgICAgICAgICAgIGlmIChzcHJpdGUuZGlyZWN0aW9uID4gMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmV3QW5pbWFsID0gdGhpcy5hbmltYWxzLm5leHQoKTtcclxuICAgICAgICAgICAgICAgIG5ld0FuaW1hbC54ID0gLW5ld0FuaW1hbC53aWR0aCAvIDI7XHJcbiAgICAgICAgICAgICAgICBlbmRYID0gNjQwICsgdGhpcy5jdXJyZW50QW5pbWFsLndpZHRoIC8gMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5ld0FuaW1hbCA9IHRoaXMuYW5pbWFscy5wcmV2aW91cygpO1xyXG4gICAgICAgICAgICAgICAgbmV3QW5pbWFsLnggPSA2NDAgKyBuZXdBbmltYWwud2lkdGggLyAyO1xyXG4gICAgICAgICAgICAgICAgZW5kWCA9IC10aGlzLmN1cnJlbnRBbmltYWwud2lkdGggLyAyO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgbmV3QW5pbWFsTW92ZW1lbnQgPSB0aGlzLmFkZC50d2VlbihuZXdBbmltYWwpO1xyXG4gICAgICAgICAgICBuZXdBbmltYWxNb3ZlbWVudC50byh7IHg6IHRoaXMuZ2FtZS53b3JsZC5jZW50ZXJYIH0sIDEwMDApO1xyXG4gICAgICAgICAgICBuZXdBbmltYWxNb3ZlbWVudC5vbkNvbXBsZXRlLmFkZCgoKSA9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTW92aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dUZXh0KG5ld0FuaW1hbCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBuZXdBbmltYWxNb3ZlbWVudC5zdGFydCgpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRBbmltYWxNb3ZlbWVudCA9IHRoaXMuYWRkLnR3ZWVuKHRoaXMuY3VycmVudEFuaW1hbCk7XHJcbiAgICAgICAgICAgIGN1cnJlbnRBbmltYWxNb3ZlbWVudC50byh7IHg6IGVuZFggfSwgMTAwMCkuc3RhcnQoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEFuaW1hbCA9IG5ld0FuaW1hbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNob3dUZXh0KGFuaW1hbDogQW5pbWFsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmFuaW1hbFRleHQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxldCBzdHlsZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBmb250OiAnYm9sZCAzMHB0IEFyaWFsJyxcclxuICAgICAgICAgICAgICAgICAgICBmaWxsOiBcIiNEMDE3MUJcIixcclxuICAgICAgICAgICAgICAgICAgICBhbGlnbjogXCJjZW50ZXJcIlxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWFsVGV4dCA9IHRoaXMuZ2FtZS5hZGQudGV4dCh0aGlzLmdhbWUud2lkdGggLyAyLCB0aGlzLmdhbWUuaGVpZ2h0ICogMC44NSwgJycsIHN0eWxlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWFsVGV4dC5hbmNob3Iuc2V0KDAuNSwgMC41KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hbFRleHQuc2V0VGV4dChhbmltYWwudGV4dCk7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWFsVGV4dC52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl19"}