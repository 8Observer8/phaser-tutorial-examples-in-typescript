{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/Boot.ts","src/Game.ts","src/PlayGame.ts","src/Preload.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/// <reference path=\"./libs/phaser.d.ts\" />\r\n\r\nexport namespace TopDownGame\r\n{\r\n    export class Boot extends Phaser.State\r\n    {\r\n        constructor()\r\n        {\r\n            super();\r\n        }\r\n\r\n        preload()\r\n        {\r\n            this.game.load.image('preloadBar', './assets/images/preloader-bar.png');\r\n        }\r\n\r\n        create()\r\n        {\r\n            this.game.stage.backgroundColor = \"#fff\";\r\n\r\n            this.game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n            this.game.scale.pageAlignHorizontally = true;\r\n            this.game.scale.pageAlignVertically = true;\r\n            this.game.scale.refresh();\r\n            this.game.physics.startSystem(Phaser.Physics.ARCADE);\r\n\r\n            this.game.state.start('Preload', true, false);\r\n\r\n        }\r\n    }\r\n}\r\n","/// <reference path=\"./libs/phaser.d.ts\" />\r\n\r\nimport * as BootModule from \"./Boot\";\r\nimport Boot = BootModule.TopDownGame.Boot;\r\n\r\nimport * as PreloadModule from \"./Preload\";\r\nimport Preload = PreloadModule.TopDownGame.Preload;\r\n\r\nimport * as PlayGameModule from \"./PlayGame\";\r\nimport PlayGame = PlayGameModule.TopDownGame.PlayGame;\r\n\r\nexport namespace TopDownGame\r\n{\r\n    export class Game extends Phaser.Game\r\n    {\r\n        constructor(width: number, height: number)\r\n        {\r\n            super(width, height, Phaser.AUTO, '');\r\n\r\n            this.state.add('Boot', Boot, false);\r\n            this.state.add('Preload', Preload, false);\r\n            this.state.add('PlayGame', PlayGame, false);\r\n\r\n            this.state.start('Boot', true, true);\r\n        }\r\n    }\r\n}\r\n\r\nwindow.onload = () =>\r\n{\r\n    new TopDownGame.Game(160, 160);\r\n    console.log('The game is on');\r\n};\r\n","/// <reference path=\"./libs/phaser.d.ts\" />\r\n\r\nexport namespace TopDownGame\r\n{\r\n    export class PlayGame extends Phaser.State\r\n    {\r\n        constructor()\r\n        {\r\n            super();\r\n        }\r\n\r\n        map: Phaser.Tilemap;\r\n        background: Phaser.TilemapLayer;\r\n        walls: Phaser.TilemapLayer;\r\n        items: Phaser.Group;\r\n        doors: Phaser.Group;\r\n        player: Phaser.Sprite;\r\n        cursors: Phaser.CursorKeys;\r\n\r\n        create()\r\n        {\r\n            this.map = this.game.add.tilemap('level1');\r\n            this.map.addTilesetImage('tiles', 'gameTiles');\r\n\r\n            this.background = this.map.createLayer('backgroundLayer');\r\n            this.walls = this.map.createLayer('blockedLayer');\r\n            this.map.setCollisionBetween(1, 2000, true, 'blockedLayer');\r\n\r\n            this.background.resizeWorld();\r\n            this.createItems();\r\n            this.createDoors();\r\n            this.createPlayer();\r\n\r\n            this.cursors = this.game.input.keyboard.createCursorKeys();\r\n        }\r\n\r\n        createItems()\r\n        {\r\n            this.items = this.game.add.group();\r\n            this.items.enableBody = true;\r\n            let result = this.findObjectsByType('item', this.map, 'objectsLayer');\r\n            result.forEach((element: any) =>\r\n            {\r\n                this.createFromTiledObject(element, this.items);\r\n            });\r\n        }\r\n\r\n        createDoors()\r\n        {\r\n            this.doors = this.game.add.group();\r\n            this.items.enableBody = true;\r\n            var result = this.findObjectsByType('door', this.map, 'objectsLayer');\r\n            result.forEach((element: any) =>\r\n            {\r\n                this.createFromTiledObject(element, this.doors);\r\n            })\r\n        }\r\n\r\n        createPlayer()\r\n        {\r\n            var result = this.findObjectsByType('playerStart', this.map, 'objectsLayer');\r\n\r\n            this.player = this.game.add.sprite(result[0].x, result[0].y, 'player');\r\n            this.player.anchor.setTo(0.5);\r\n            this.game.physics.arcade.enable(this.player);\r\n            this.player.body.collideWorldBounds = true;\r\n\r\n            this.game.camera.follow(this.player);\r\n        }\r\n\r\n\r\n        findObjectsByType(type: string, map: Phaser.Tilemap, layer: any)\r\n        {\r\n            let result: any = [];\r\n            map.objects[layer].forEach((element: any) =>\r\n            {\r\n                if (element.properties.type === type)\r\n                {\r\n                    element.y -= this.map.tileHeight;\r\n                    result.push(element);\r\n                }\r\n            });\r\n            return result;\r\n        }\r\n\r\n        createFromTiledObject(element: any, group: Phaser.Group)\r\n        {\r\n            var sprite = group.create(element.x, element.y, element.properties.sprite);\r\n\r\n            Object.keys(element.properties).forEach(key =>\r\n            {\r\n                sprite[key] = element.properties[key];\r\n            });\r\n        }\r\n\r\n        update()\r\n        {\r\n            this.player.body.velocity.x = 0;\r\n            this.player.body.velocity.y = 0;\r\n\r\n            this.game.physics.arcade.collide(this.player, this.walls);\r\n            this.game.physics.arcade.collide(this.player, this.items, this.collect, null, this);\r\n\r\n            if (this.cursors.up.isDown)\r\n            {\r\n                this.player.body.velocity.y -= 50;\r\n            }\r\n            else if (this.cursors.down.isDown)\r\n            {\r\n                this.player.body.velocity.y += 50;\r\n            }\r\n            if (this.cursors.left.isDown)\r\n            {\r\n                this.player.body.velocity.x -= 50;\r\n            }\r\n            else if (this.cursors.right.isDown)\r\n            {\r\n                this.player.body.velocity.x += 50;\r\n            }\r\n        }\r\n\r\n        collect(player: Phaser.Sprite, item: Phaser.Sprite)\r\n        {\r\n            item.destroy();\r\n            console.log(\"yummy\");\r\n        }\r\n    }\r\n}\r\n","/// <reference path=\"./libs/phaser.d.ts\" />\r\n\r\nexport namespace TopDownGame\r\n{\r\n    export class Preload extends Phaser.State\r\n    {\r\n        constructor()\r\n        {\r\n            super();\r\n        }\r\n\r\n        preloadBar: Phaser.Sprite;\r\n\r\n        preload()\r\n        {\r\n            this.preloadBar = this.game.add.sprite(this.game.world.centerX, this.game.world.centerY + 128, 'preloadBar');\r\n            this.preloadBar.anchor.setTo(0.5);\r\n            this.load.setPreloadSprite(this.preloadBar);\r\n            this.load.tilemap('level1', './assets/tilemaps/level1.json', null, Phaser.Tilemap.TILED_JSON);\r\n            this.load.tilemap('level2', './assets/tilemaps/level2.json', null, Phaser.Tilemap.TILED_JSON);\r\n            this.load.image('gameTiles', './assets/images/tiles.png');\r\n            this.load.image('greencup', './assets/images/greencup.png');\r\n            this.load.image('bluecup', './assets/images/bluecup.png');\r\n            this.load.image('player', './assets/images/player.png');\r\n            this.load.image('browndoor', './assets/images/browndoor.png');\r\n        }\r\n\r\n        create()\r\n        {\r\n            this.game.state.start('PlayGame');\r\n        }\r\n    }\r\n}\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvQm9vdC50cyIsInNyYy9HYW1lLnRzIiwic3JjL1BsYXlHYW1lLnRzIiwic3JjL1ByZWxvYWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FDQUEsMkNBQTJDOzs7Ozs7Ozs7Ozs7QUFFM0MsSUFBaUIsV0FBVyxDQTRCM0I7QUE1QkQsV0FBaUIsV0FBVztJQUV4QjtRQUEwQix3QkFBWTtRQUVsQzttQkFFSSxpQkFBTztRQUNYLENBQUM7UUFFRCxzQkFBTyxHQUFQO1lBRUksSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksRUFBRSxtQ0FBbUMsQ0FBQyxDQUFDO1FBQzVFLENBQUM7UUFFRCxxQkFBTSxHQUFOO1lBRUksSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxHQUFHLE1BQU0sQ0FBQztZQUV6QyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUM7WUFDekQsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMscUJBQXFCLEdBQUcsSUFBSSxDQUFDO1lBQzdDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQztZQUMzQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUMxQixJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUVyRCxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztRQUVsRCxDQUFDO1FBQ0wsV0FBQztJQUFELENBekJBLEFBeUJDLENBekJ5QixNQUFNLENBQUMs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LENBQUM7WUFDNUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLCtCQUErQixFQUFFLElBQUksRUFBRSxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQzlGLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSwrQkFBK0IsRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUM5RixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsMkJBQTJCLENBQUMsQ0FBQztZQUMxRCxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsOEJBQThCLENBQUMsQ0FBQztZQUM1RCxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsNkJBQTZCLENBQUMsQ0FBQztZQUMxRCxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsNEJBQTRCLENBQUMsQ0FBQztZQUN4RCxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsK0JBQStCLENBQUMsQ0FBQztRQUNsRSxDQUFDO1FBRUQsd0JBQU0sR0FBTjtZQUVJLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUN0QyxDQUFDO1FBQ0wsY0FBQztJQUFELENBM0JBLEFBMkJDLENBM0I0QixNQUFNLENBQUMsS0FBSyxHQTJCeEM7SUEzQlksbUJBQU8sVUEyQm5CLENBQUE7QUFDTCxDQUFDLEVBOUJnQixXQUFXLEdBQVgsbUJBQVcsS0FBWCxtQkFBVyxRQThCM0IiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vbGlicy9waGFzZXIuZC50c1wiIC8+XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIFRvcERvd25HYW1lXHJcbntcclxuICAgIGV4cG9ydCBjbGFzcyBCb290IGV4dGVuZHMgUGhhc2VyLlN0YXRlXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3RydWN0b3IoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByZWxvYWQoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lLmxvYWQuaW1hZ2UoJ3ByZWxvYWRCYXInLCAnLi9hc3NldHMvaW1hZ2VzL3ByZWxvYWRlci1iYXIucG5nJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjcmVhdGUoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lLnN0YWdlLmJhY2tncm91bmRDb2xvciA9IFwiI2ZmZlwiO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5nYW1lLnNjYWxlLnNjYWxlTW9kZSA9IFBoYXNlci5TY2FsZU1hbmFnZXIuU0hPV19BTEw7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5zY2FsZS5wYWdlQWxpZ25Ib3Jpem9udGFsbHkgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUuc2NhbGUucGFnZUFsaWduVmVydGljYWxseSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5zY2FsZS5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5waHlzaWNzLnN0YXJ0U3lzdGVtKFBoYXNlci5QaHlzaWNzLkFSQ0FERSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdhbWUuc3RhdGUuc3RhcnQoJ1ByZWxvYWQnLCB0cnVlLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi9saWJzL3BoYXNlci5kLnRzXCIgLz5cclxuXHJcbmltcG9ydCAqIGFzIEJvb3RNb2R1bGUgZnJvbSBcIi4vQm9vdFwiO1xyXG5pbXBvcnQgQm9vdCA9IEJvb3RNb2R1bGUuVG9wRG93bkdhbWUuQm9vdDtcclxuXHJcbmltcG9ydCAqIGFzIFByZWxvYWRNb2R1bGUgZnJvbSBcIi4vUHJlbG9hZFwiO1xyXG5pbXBvcnQgUHJlbG9hZCA9IFByZWxvYWRNb2R1bGUuVG9wRG93bkdhbWUuUHJlbG9hZDtcclxuXHJcbmltcG9ydCAqIGFzIFBsYXlHYW1lTW9kdWxlIGZyb20gXCIuL1BsYXlHYW1lXCI7XHJcbmltcG9ydCBQbGF5R2FtZSA9IFBsYXlHYW1lTW9kdWxlLlRvcERvd25HYW1lLlBsYXlHYW1lO1xyXG5cclxuZXhwb3J0IG5hbWVzcGFjZSBUb3BEb3duR2FtZVxyXG57XHJcbiAgICBleHBvcnQgY2xhc3MgR2FtZSBleHRlbmRzIFBoYXNlci5HYW1lXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3RydWN0b3Iod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBzdXBlcih3aWR0aCwgaGVpZ2h0LCBQaGFzZXIuQVVUTywgJycpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5hZGQoJ0Jvb3QnLCBCb290LCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYWRkKCdQcmVsb2FkJywgUHJlbG9hZCwgZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmFkZCgnUGxheUdhbWUnLCBQbGF5R2FtZSwgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5zdGFydCgnQm9vdCcsIHRydWUsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxud2luZG93Lm9ubG9hZCA9ICgpID0+XHJcbntcclxuICAgIG5ldyBUb3BEb3duR2FtZS5HYW1lKDE2MCwgMTYwKTtcclxuICAgIGNvbnNvbGUubG9nKCdUaGUgZ2FtZSBpcyBvbicpO1xyXG59O1xyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi9saWJzL3BoYXNlci5kLnRzXCIgLz5cclxuXHJcbmV4cG9ydCBuYW1lc3BhY2UgVG9wRG93bkdhbWVcclxue1xyXG4gICAgZXhwb3J0IGNsYXNzIFBsYXlHYW1lIGV4dGVuZHMgUGhhc2VyLlN0YXRlXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3RydWN0b3IoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG1hcDogUGhhc2VyLlRpbGVtYXA7XHJcbiAgICAgICAgYmFja2dyb3VuZDogUGhhc2VyLlRpbGVtYXBMYXllcjtcclxuICAgICAgICB3YWxsczogUGhhc2VyLlRpbGVtYXBMYXllcjtcclxuICAgICAgICBpdGVtczogUGhhc2VyLkdyb3VwO1xyXG4gICAgICAgIGRvb3JzOiBQaGFzZXIuR3JvdXA7XHJcbiAgICAgICAgcGxheWVyOiBQaGFzZXIuU3ByaXRlO1xyXG4gICAgICAgIGN1cnNvcnM6IFBoYXNlci5DdXJzb3JLZXlzO1xyXG5cclxuICAgICAgICBjcmVhdGUoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5tYXAgPSB0aGlzLmdhbWUuYWRkLnRpbGVtYXAoJ2xldmVsMScpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcC5hZGRUaWxlc2V0SW1hZ2UoJ3RpbGVzJywgJ2dhbWVUaWxlcycpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5tYXAuY3JlYXRlTGF5ZXIoJ2JhY2tncm91bmRMYXllcicpO1xyXG4gICAgICAgICAgICB0aGlzLndhbGxzID0gdGhpcy5tYXAuY3JlYXRlTGF5ZXIoJ2Jsb2NrZWRMYXllcicpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcC5zZXRDb2xsaXNpb25CZXR3ZWVuKDEsIDIwMDAsIHRydWUsICdibG9ja2VkTGF5ZXInKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZC5yZXNpemVXb3JsZCgpO1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUl0ZW1zKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRG9vcnMoKTtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVQbGF5ZXIoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3Vyc29ycyA9IHRoaXMuZ2FtZS5pbnB1dC5rZXlib2FyZC5jcmVhdGVDdXJzb3JLZXlzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjcmVhdGVJdGVtcygpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLml0ZW1zID0gdGhpcy5nYW1lLmFkZC5ncm91cCgpO1xyXG4gICAgICAgICAgICB0aGlzLml0ZW1zLmVuYWJsZUJvZHkgPSB0cnVlO1xyXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5maW5kT2JqZWN0c0J5VHlwZSgnaXRlbScsIHRoaXMubWFwLCAnb2JqZWN0c0xheWVyJyk7XHJcbiAgICAgICAgICAgIHJlc3VsdC5mb3JFYWNoKChlbGVtZW50OiBhbnkpID0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlRnJvbVRpbGVkT2JqZWN0KGVsZW1lbnQsIHRoaXMuaXRlbXMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNyZWF0ZURvb3JzKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuZG9vcnMgPSB0aGlzLmdhbWUuYWRkLmdyb3VwKCk7XHJcbiAgICAgICAgICAgIHRoaXMuaXRlbXMuZW5hYmxlQm9keSA9IHRydWU7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmZpbmRPYmplY3RzQnlUeXBlKCdkb29yJywgdGhpcy5tYXAsICdvYmplY3RzTGF5ZXInKTtcclxuICAgICAgICAgICAgcmVzdWx0LmZvckVhY2goKGVsZW1lbnQ6IGFueSkgPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVGcm9tVGlsZWRPYmplY3QoZWxlbWVudCwgdGhpcy5kb29ycyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjcmVhdGVQbGF5ZXIoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuZmluZE9iamVjdHNCeVR5cGUoJ3BsYXllclN0YXJ0JywgdGhpcy5tYXAsICdvYmplY3RzTGF5ZXInKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gdGhpcy5nYW1lLmFkZC5zcHJpdGUocmVzdWx0WzBdLngsIHJlc3VsdFswXS55LCAncGxheWVyJyk7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmFuY2hvci5zZXRUbygwLjUpO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUucGh5c2ljcy5hcmNhZGUuZW5hYmxlKHRoaXMucGxheWVyKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuYm9keS5jb2xsaWRlV29ybGRCb3VuZHMgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5nYW1lLmNhbWVyYS5mb2xsb3codGhpcy5wbGF5ZXIpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGZpbmRPYmplY3RzQnlUeXBlKHR5cGU6IHN0cmluZywgbWFwOiBQaGFzZXIuVGlsZW1hcCwgbGF5ZXI6IGFueSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IGFueSA9IFtdO1xyXG4gICAgICAgICAgICBtYXAub2JqZWN0c1tsYXllcl0uZm9yRWFjaCgoZWxlbWVudDogYW55KSA9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5wcm9wZXJ0aWVzLnR5cGUgPT09IHR5cGUpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC55IC09IHRoaXMubWFwLnRpbGVIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY3JlYXRlRnJvbVRpbGVkT2JqZWN0KGVsZW1lbnQ6IGFueSwgZ3JvdXA6IFBoYXNlci5Hcm91cClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBncm91cC5jcmVhdGUoZWxlbWVudC54LCBlbGVtZW50LnksIGVsZW1lbnQucHJvcGVydGllcy5zcHJpdGUpO1xyXG5cclxuICAgICAgICAgICAgT2JqZWN0LmtleXMoZWxlbWVudC5wcm9wZXJ0aWVzKS5mb3JFYWNoKGtleSA9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGVba2V5XSA9IGVsZW1lbnQucHJvcGVydGllc1trZXldO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHVwZGF0ZSgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci5ib2R5LnZlbG9jaXR5LnggPSAwO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci5ib2R5LnZlbG9jaXR5LnkgPSAwO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5nYW1lLnBoeXNpY3MuYXJjYWRlLmNvbGxpZGUodGhpcy5wbGF5ZXIsIHRoaXMud2FsbHMpO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUucGh5c2ljcy5hcmNhZGUuY29sbGlkZSh0aGlzLnBsYXllciwgdGhpcy5pdGVtcywgdGhpcy5jb2xsZWN0LCBudWxsLCB0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnNvcnMudXAuaXNEb3duKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5ib2R5LnZlbG9jaXR5LnkgLT0gNTA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5jdXJzb3JzLmRvd24uaXNEb3duKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5ib2R5LnZlbG9jaXR5LnkgKz0gNTA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuY3Vyc29ycy5sZWZ0LmlzRG93bilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuYm9keS52ZWxvY2l0eS54IC09IDUwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuY3Vyc29ycy5yaWdodC5pc0Rvd24pXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLmJvZHkudmVsb2NpdHkueCArPSA1MDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29sbGVjdChwbGF5ZXI6IFBoYXNlci5TcHJpdGUsIGl0ZW06IFBoYXNlci5TcHJpdGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpdGVtLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ5dW1teVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vbGlicy9waGFzZXIuZC50c1wiIC8+XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIFRvcERvd25HYW1lXHJcbntcclxuICAgIGV4cG9ydCBjbGFzcyBQcmVsb2FkIGV4dGVuZHMgUGhhc2VyLlN0YXRlXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3RydWN0b3IoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByZWxvYWRCYXI6IFBoYXNlci5TcHJpdGU7XHJcblxyXG4gICAgICAgIHByZWxvYWQoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5wcmVsb2FkQmFyID0gdGhpcy5nYW1lLmFkZC5zcHJpdGUodGhpcy5nYW1lLndvcmxkLmNlbnRlclgsIHRoaXMuZ2FtZS53b3JsZC5jZW50ZXJZICsgMTI4LCAncHJlbG9hZEJhcicpO1xyXG4gICAgICAgICAgICB0aGlzLnByZWxvYWRCYXIuYW5jaG9yLnNldFRvKDAuNSk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZC5zZXRQcmVsb2FkU3ByaXRlKHRoaXMucHJlbG9hZEJhcik7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZC50aWxlbWFwKCdsZXZlbDEnLCAnLi9hc3NldHMvdGlsZW1hcHMvbGV2ZWwxLmpzb24nLCBudWxsLCBQaGFzZXIuVGlsZW1hcC5USUxFRF9KU09OKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkLnRpbGVtYXAoJ2xldmVsMicsICcuL2Fzc2V0cy90aWxlbWFwcy9sZXZlbDIuanNvbicsIG51bGwsIFBoYXNlci5UaWxlbWFwLlRJTEVEX0pTT04pO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2dhbWVUaWxlcycsICcuL2Fzc2V0cy9pbWFnZXMvdGlsZXMucG5nJyk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZ3JlZW5jdXAnLCAnLi9hc3NldHMvaW1hZ2VzL2dyZWVuY3VwLnBuZycpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JsdWVjdXAnLCAnLi9hc3NldHMvaW1hZ2VzL2JsdWVjdXAucG5nJyk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGxheWVyJywgJy4vYXNzZXRzL2ltYWdlcy9wbGF5ZXIucG5nJyk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYnJvd25kb29yJywgJy4vYXNzZXRzL2ltYWdlcy9icm93bmRvb3IucG5nJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjcmVhdGUoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lLnN0YXRlLnN0YXJ0KCdQbGF5R2FtZScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iXX0="}