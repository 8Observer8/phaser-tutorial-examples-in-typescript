!function t(e,o,r){function a(i,n){if(!o[i]){if(!e[i]){var c="function"==typeof require&&require;if(!n&&c)return c(i,!0);if(s)return s(i,!0);var p=new Error("Cannot find module '"+i+"'");throw p.code="MODULE_NOT_FOUND",p}var l=o[i]={exports:{}};e[i][0].call(l.exports,function(t){var o=e[i][1][t];return a(o||t)},l,l.exports,t,e,o,r)}return o[i].exports}for(var s="function"==typeof require&&require,i=0;i<r.length;i++)a(r[i]);return a}({1:[function(t,e,o){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();o.__esModule=!0;!function(t){var e=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.preload=function(){this.game.load.image("preloadBar","./assets/images/preloader-bar.png")},e.prototype.create=function(){this.game.stage.backgroundColor="#fff",this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.pageAlignHorizontally=!0,this.game.scale.pageAlignVertically=!0,this.game.scale.refresh(),this.game.physics.startSystem(Phaser.Physics.ARCADE),this.game.state.start("Preload",!0,!1)},e}(Phaser.State);t.Boot=e}(o.TopDownGame||(o.TopDownGame={}))},{}],2:[function(t,e,o){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();o.__esModule=!0;var a,s=t("./Boot").TopDownGame.Boot,i=t("./Preload").TopDownGame.Preload,n=t("./PlayGame").TopDownGame.PlayGame;!function(t){var e=function(t){function e(e,o){var r=t.call(this,e,o,Phaser.AUTO,"")||this;return r.state.add("Boot",s,!1),r.state.add("Preload",i,!1),r.state.add("PlayGame",n,!1),r.state.start("Boot",!0,!0),r}return r(e,t),e}(Phaser.Game);t.Game=e}(a=o.TopDownGame||(o.TopDownGame={})),window.onload=function(){new a.Game(160,160),console.log("The game is on")}},{"./Boot":1,"./PlayGame":3,"./Preload":4}],3:[function(t,e,o){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();o.__esModule=!0;!function(t){var e=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.create=function(){this.map=this.game.add.tilemap("level1"),this.map.addTilesetImage("tiles","gameTiles"),this.background=this.map.createLayer("backgroundLayer"),this.walls=this.map.createLayer("blockedLayer"),this.map.setCollisionBetween(1,2e3,!0,"blockedLayer"),this.background.resizeWorld(),this.createItems(),this.createDoors(),this.createPlayer(),this.cursors=this.game.input.keyboard.createCursorKeys()},e.prototype.createItems=function(){var t=this;this.items=this.game.add.group(),this.items.enableBody=!0,this.findObjectsByType("item",this.map,"objectsLayer").forEach(function(e){t.createFromTiledObject(e,t.items)})},e.prototype.createDoors=function(){var t=this;this.doors=this.game.add.group(),this.items.enableBody=!0,this.findObjectsByType("door",this.map,"objectsLayer").forEach(function(e){t.createFromTiledObject(e,t.doors)})},e.prototype.createPlayer=function(){var t=this.findObjectsByType("playerStart",this.map,"objectsLayer");this.player=this.game.add.sprite(t[0].x,t[0].y,"player"),this.player.anchor.setTo(.5),this.game.physics.arcade.enable(this.player),this.player.body.collideWorldBounds=!0,this.game.camera.follow(this.player)},e.prototype.findObjectsByType=function(t,e,o){var r=this,a=[];return e.objects[o].forEach(function(e){e.properties.type===t&&(e.y-=r.map.tileHeight,a.push(e))}),a},e.prototype.createFromTiledObject=function(t,e){var o=e.create(t.x,t.y,t.properties.sprite);Object.keys(t.properties).forEach(function(e){o[e]=t.properties[e]})},e.prototype.update=function(){this.player.body.velocity.x=0,this.player.body.velocity.y=0,this.game.physics.arcade.collide(this.player,this.walls),this.game.physics.arcade.collide(this.player,this.items,this.collect,null,this),this.cursors.up.isDown?this.player.body.velocity.y-=50:this.cursors.down.isDown&&(this.player.body.velocity.y+=50),this.cursors.left.isDown?this.player.body.velocity.x-=50:this.cursors.right.isDown&&(this.player.body.velocity.x+=50)},e.prototype.collect=function(t,e){e.destroy(),console.log("yummy")},e}(Phaser.State);t.PlayGame=e}(o.TopDownGame||(o.TopDownGame={}))},{}],4:[function(t,e,o){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();o.__esModule=!0;!function(t){var e=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.preload=function(){this.preloadBar=this.game.add.sprite(this.game.world.centerX,this.game.world.centerY+128,"preloadBar"),this.preloadBar.anchor.setTo(.5),this.load.setPreloadSprite(this.preloadBar),this.load.tilemap("level1","./assets/tilemaps/level1.json",null,Phaser.Tilemap.TILED_JSON),this.load.tilemap("level2","./assets/tilemaps/level2.json",null,Phaser.Tilemap.TILED_JSON),this.load.image("gameTiles","./assets/images/tiles.png"),this.load.image("greencup","./assets/images/greencup.png"),this.load.image("bluecup","./assets/images/bluecup.png"),this.load.image("player","./assets/images/player.png"),this.load.image("browndoor","./assets/images/browndoor.png")},e.prototype.create=function(){this.game.state.start("PlayGame")},e}(Phaser.State);t.Preload=e}(o.TopDownGame||(o.TopDownGame={}))},{}]},{},[2]);
//# sourceMappingURL=bundle.js.map
