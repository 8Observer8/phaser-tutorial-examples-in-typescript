{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/Boot.ts","src/Game.ts","src/Level1.ts","src/MainMenu.ts","src/Player.ts","src/Preloader.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/// <reference path=\"./libs/phaser.d.ts\" />\r\n\r\nexport namespace Castlevania\r\n{\r\n    export class Boot extends Phaser.State\r\n    {\r\n        preload()\r\n        {\r\n            this.load.image('preloadBar', './assets/loader.png');\r\n        }\r\n\r\n        create()\r\n        {\r\n            this.input.maxPointers = 1;\r\n            this.stage.disableVisibilityChange = true;\r\n\r\n            if (this.game.device.desktop)\r\n            {\r\n                this.scale.pageAlignHorizontally = true;\r\n                this.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n            }\r\n            else\r\n            {\r\n                // Mobile settings\r\n                this.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n                this.scale.minWidth = 480;\r\n                this.scale.minHeight = 260;\r\n                this.scale.maxWidth = 1024;\r\n                this.scale.maxHeight = 768;\r\n                this.scale.forceLandscape = true;\r\n                this.scale.pageAlignHorizontally = true;\r\n                this.scale.refresh();\r\n            }\r\n\r\n            this.game.state.start('Preloader', true, false);\r\n        }\r\n    }\r\n}","/// <reference path=\"./libs/phaser.d.ts\" />\r\n\r\nimport * as BootModule from \"./Boot\";\r\nimport Boot = BootModule.Castlevania.Boot;\r\n\r\nimport * as Level1Module from \"./Level1\";\r\nimport Level1 = Level1Module.Castlevania.Level1;\r\n\r\nimport * as MainMenuModule from \"./MainMenu\";\r\nimport MainMenu = MainMenuModule.Castlevania.MainMenu;\r\n\r\nimport * as PreloaderModule from \"./Preloader\";\r\nimport Preloader = PreloaderModule.Castlevania.Preloader;\r\n\r\nnamespace Castlevania\r\n{\r\n    export class Game extends Phaser.Game\r\n    {\r\n        constructor()\r\n        {\r\n            super(800, 600, Phaser.AUTO, '');\r\n            this.state.add('Boot', Boot, false);\r\n            this.state.add('Preloader', Preloader, false);\r\n            this.state.add('MainMenu', MainMenu, false);\r\n            this.state.add('Level1', Level1, false);\r\n            this.state.start('Boot');\r\n        }\r\n    }\r\n}\r\n\r\nwindow.onload = () =>\r\n{\r\n    new Castlevania.Game();\r\n};\r\n","/// <reference path=\"./libs/phaser.d.ts\" />\r\n\r\nimport * as PlayerModule from \"./Player\";\r\nimport Player = PlayerModule.Castlevania.Player;\r\n\r\nexport namespace Castlevania\r\n{\r\n    export class Level1 extends Phaser.State\r\n    {\r\n        background: Phaser.Sprite;\r\n        music: Phaser.Sound;\r\n        player: Player;\r\n\r\n        create()\r\n        {\r\n            this.physics.startSystem(Phaser.Physics.ARCADE);\r\n            this.background = this.add.sprite(0, 0, 'level1');\r\n            this.music = this.add.audio('music', 1, false);\r\n            this.music.play();\r\n            this.player = new Player(this.game, 130, 332);\r\n        }\r\n    }\r\n}\r\n","/// <reference path=\"./libs/phaser.d.ts\" />\r\n\r\nexport namespace Castlevania\r\n{\r\n    export class MainMenu extends Phaser.State\r\n    {\r\n\r\n        background: Phaser.Sprite;\r\n        logo: Phaser.Sprite;\r\n\r\n        create()\r\n        {\r\n            this.background = this.add.sprite(0, 0, 'titlepage');\r\n            this.background.alpha = 0;\r\n\r\n            this.logo = this.add.sprite(this.world.centerX, -300, 'logo');\r\n            this.logo.anchor.setTo(0.5);\r\n\r\n            this.add.tween(this.background).to({ alpha: 1 }, 2000, Phaser.Easing.Bounce.InOut, true);\r\n            this.add.tween(this.logo).to({ y: 220 }, 2000, Phaser.Easing.Elastic.Out, true, 2000);\r\n\r\n            this.input.onDown.addOnce(this.fadeOut, this);\r\n        }\r\n\r\n        fadeOut()\r\n        {\r\n            this.add.tween(this.background).to({ alpha: 0 }, 2000, Phaser.Easing.Linear.None, true);\r\n            var tween = this.add.tween(this.logo).to({ y: 800 }, 2000, Phaser.Easing.Linear.None, true);\r\n            tween.onComplete.add(this.startGame, this);\r\n        }\r\n\r\n        startGame()\r\n        {\r\n            this.game.state.start('Level1', true, false);\r\n        }\r\n    }\r\n}","/// <reference path=\"./libs/phaser.d.ts\" />\r\n\r\nexport namespace Castlevania\r\n{\r\n    export class Player extends Phaser.Sprite\r\n    {\r\n        constructor(game: Phaser.Game, x: number, y: number)\r\n        {\r\n            super(game, x, y, 'simon', 0);\r\n            this.anchor.setTo(0.5);\r\n            this.animations.add('walk', [0, 1, 2, 3, 4], 10, true);\r\n            game.add.existing(this);\r\n            game.physics.enable(this);\r\n        }\r\n\r\n        update()\r\n        {\r\n            this.body.velocity.x = 0;\r\n            if (this.game.input.keyboard.isDown(Phaser.Keyboard.LEFT))\r\n            {\r\n                this.body.velocity.x = -150;\r\n                this.animations.play('walk');\r\n                if (this.scale.x === 1)\r\n                {\r\n                    this.scale.x = -1;\r\n                }\r\n            } else if (this.game.input.keyboard.isDown(Phaser.Keyboard.RIGHT))\r\n            {\r\n                this.body.velocity.x = 150;\r\n                this.animations.play('walk');\r\n                if (this.scale.x === -1)\r\n                {\r\n                    this.scale.x = 1;\r\n                }\r\n            } else\r\n            {\r\n                this.animations.frame = 0;\r\n            }\r\n        }\r\n    }\r\n}","/// <reference path=\"./libs/phaser.d.ts\" />\r\n\r\nexport namespace Castlevania\r\n{\r\n    export class Preloader extends Phaser.State\r\n    {\r\n        preloadBar: Phaser.Sprite;\r\n\r\n        preload()\r\n        {\r\n            this.preloadBar = this.game.add.sprite(200, 250, 'preloadBar');\r\n            this.load.setPreloadSprite(this.preloadBar);\r\n\r\n            this.load.image('titlepage', './assets/titlepage.jpg');\r\n            this.load.image('logo', './assets/logo.png');\r\n            this.load.audio('music', './assets/title.mp3', true);\r\n            this.load.spritesheet('simon', './assets/simon.png', 58, 96, 5);\r\n            this.load.image('level1', './assets/level1.png');\r\n        }\r\n\r\n        create()\r\n        {\r\n            var tween = this.add.tween(this.preloadBar).to({ alpha: 0 }, 1000,\r\n                Phaser.Easing.Linear.None, true);\r\n            tween.onComplete.add(this.startMainMenu, this);\r\n        }\r\n\r\n        startMainMenu()\r\n        {\r\n            this.game.state.start('MainMenu', true, false);\r\n        }\r\n    }\r\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvQm9vdC50cyIsInNyYy9HYW1lLnRzIiwic3JjL0xldmVsMS50cyIsInNyYy9NYWluTWVudS50cyIsInNyYy9QbGF5ZXIudHMiLCJzcmMvUHJlbG9hZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQ0FBLDJDQUEyQzs7Ozs7Ozs7Ozs7O0FBRTNDLElBQWlCLFdBQVcsQ0FtQzNCO0FBbkNELFdBQWlCLFdBQVc7SUFFeEI7UUFBMEIsd0JBQVk7UUFBdEM7O1FBZ0NBLENBQUM7UUE5Qkcsc0JBQU8sR0FBUDtZQUVJLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksRUFBRSxxQkFBcUIsQ0FBQyxDQUFDO1FBQ3pELENBQUM7UUFFRCxxQkFBTSxHQUFOO1lBRUksSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO1lBQzNCLElBQUksQ0FBQyxLQUFLLENBQUMsdUJBQXVCLEdBQUcsSUFBSSxDQUFDO1lBRTFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUM3QixDQUFDO2dCQUNHLElBQUksQ0FBQyxLQUFLLENBQUMscUJBQXFCLEdBQUcsSUFBSSxDQUFDO2dCQUN4QyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQztZQUN4RCxDQUFDO1lBQ0QsSUFBSSxDQUNKLENBQUM7Z0JBQ0csa0JBQWtCO2dCQUNsQixJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQztnQkFDcEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsR0FBRyxDQUFDO2dCQUMxQixJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxHQUFHLENBQUM7Z0JBQzNCLElBQUksQ0FB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Q0FBQyxFQTlCZ0IsV0FBVyxHQUFYLG1CQUFXLEtBQVgsbUJBQVcsUUE4QjNCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL2xpYnMvcGhhc2VyLmQudHNcIiAvPlxyXG5cclxuZXhwb3J0IG5hbWVzcGFjZSBDYXN0bGV2YW5pYVxyXG57XHJcbiAgICBleHBvcnQgY2xhc3MgQm9vdCBleHRlbmRzIFBoYXNlci5TdGF0ZVxyXG4gICAge1xyXG4gICAgICAgIHByZWxvYWQoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwcmVsb2FkQmFyJywgJy4vYXNzZXRzL2xvYWRlci5wbmcnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNyZWF0ZSgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmlucHV0Lm1heFBvaW50ZXJzID0gMTtcclxuICAgICAgICAgICAgdGhpcy5zdGFnZS5kaXNhYmxlVmlzaWJpbGl0eUNoYW5nZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5nYW1lLmRldmljZS5kZXNrdG9wKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLnBhZ2VBbGlnbkhvcml6b250YWxseSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLnNjYWxlTW9kZSA9IFBoYXNlci5TY2FsZU1hbmFnZXIuU0hPV19BTEw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvLyBNb2JpbGUgc2V0dGluZ3NcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUuc2NhbGVNb2RlID0gUGhhc2VyLlNjYWxlTWFuYWdlci5TSE9XX0FMTDtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUubWluV2lkdGggPSA0ODA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLm1pbkhlaWdodCA9IDI2MDtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUubWF4V2lkdGggPSAxMDI0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS5tYXhIZWlnaHQgPSA3Njg7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLmZvcmNlTGFuZHNjYXBlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUucGFnZUFsaWduSG9yaXpvbnRhbGx5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdhbWUuc3RhdGUuc3RhcnQoJ1ByZWxvYWRlcicsIHRydWUsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi9saWJzL3BoYXNlci5kLnRzXCIgLz5cclxuXHJcbmltcG9ydCAqIGFzIEJvb3RNb2R1bGUgZnJvbSBcIi4vQm9vdFwiO1xyXG5pbXBvcnQgQm9vdCA9IEJvb3RNb2R1bGUuQ2FzdGxldmFuaWEuQm9vdDtcclxuXHJcbmltcG9ydCAqIGFzIExldmVsMU1vZHVsZSBmcm9tIFwiLi9MZXZlbDFcIjtcclxuaW1wb3J0IExldmVsMSA9IExldmVsMU1vZHVsZS5DYXN0bGV2YW5pYS5MZXZlbDE7XHJcblxyXG5pbXBvcnQgKiBhcyBNYWluTWVudU1vZHVsZSBmcm9tIFwiLi9NYWluTWVudVwiO1xyXG5pbXBvcnQgTWFpbk1lbnUgPSBNYWluTWVudU1vZHVsZS5DYXN0bGV2YW5pYS5NYWluTWVudTtcclxuXHJcbmltcG9ydCAqIGFzIFByZWxvYWRlck1vZHVsZSBmcm9tIFwiLi9QcmVsb2FkZXJcIjtcclxuaW1wb3J0IFByZWxvYWRlciA9IFByZWxvYWRlck1vZHVsZS5DYXN0bGV2YW5pYS5QcmVsb2FkZXI7XHJcblxyXG5uYW1lc3BhY2UgQ2FzdGxldmFuaWFcclxue1xyXG4gICAgZXhwb3J0IGNsYXNzIEdhbWUgZXh0ZW5kcyBQaGFzZXIuR2FtZVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHN1cGVyKDgwMCwgNjAwLCBQaGFzZXIuQVVUTywgJycpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmFkZCgnQm9vdCcsIEJvb3QsIGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5hZGQoJ1ByZWxvYWRlcicsIFByZWxvYWRlciwgZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmFkZCgnTWFpbk1lbnUnLCBNYWluTWVudSwgZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmFkZCgnTGV2ZWwxJywgTGV2ZWwxLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuc3RhcnQoJ0Jvb3QnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbndpbmRvdy5vbmxvYWQgPSAoKSA9PlxyXG57XHJcbiAgICBuZXcgQ2FzdGxldmFuaWEuR2FtZSgpO1xyXG59O1xyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi9saWJzL3BoYXNlci5kLnRzXCIgLz5cclxuXHJcbmltcG9ydCAqIGFzIFBsYXllck1vZHVsZSBmcm9tIFwiLi9QbGF5ZXJcIjtcclxuaW1wb3J0IFBsYXllciA9IFBsYXllck1vZHVsZS5DYXN0bGV2YW5pYS5QbGF5ZXI7XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIENhc3RsZXZhbmlhXHJcbntcclxuICAgIGV4cG9ydCBjbGFzcyBMZXZlbDEgZXh0ZW5kcyBQaGFzZXIuU3RhdGVcclxuICAgIHtcclxuICAgICAgICBiYWNrZ3JvdW5kOiBQaGFzZXIuU3ByaXRlO1xyXG4gICAgICAgIG11c2ljOiBQaGFzZXIuU291bmQ7XHJcbiAgICAgICAgcGxheWVyOiBQbGF5ZXI7XHJcblxyXG4gICAgICAgIGNyZWF0ZSgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3Muc3RhcnRTeXN0ZW0oUGhhc2VyLlBoeXNpY3MuQVJDQURFKTtcclxuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5hZGQuc3ByaXRlKDAsIDAsICdsZXZlbDEnKTtcclxuICAgICAgICAgICAgdGhpcy5tdXNpYyA9IHRoaXMuYWRkLmF1ZGlvKCdtdXNpYycsIDEsIGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy5tdXNpYy5wbGF5KCk7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gbmV3IFBsYXllcih0aGlzLmdhbWUsIDEzMCwgMzMyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vbGlicy9waGFzZXIuZC50c1wiIC8+XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIENhc3RsZXZhbmlhXHJcbntcclxuICAgIGV4cG9ydCBjbGFzcyBNYWluTWVudSBleHRlbmRzIFBoYXNlci5TdGF0ZVxyXG4gICAge1xyXG5cclxuICAgICAgICBiYWNrZ3JvdW5kOiBQaGFzZXIuU3ByaXRlO1xyXG4gICAgICAgIGxvZ286IFBoYXNlci5TcHJpdGU7XHJcblxyXG4gICAgICAgIGNyZWF0ZSgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmQgPSB0aGlzLmFkZC5zcHJpdGUoMCwgMCwgJ3RpdGxlcGFnZScpO1xyXG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmQuYWxwaGEgPSAwO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2dvID0gdGhpcy5hZGQuc3ByaXRlKHRoaXMud29ybGQuY2VudGVyWCwgLTMwMCwgJ2xvZ28nKTtcclxuICAgICAgICAgICAgdGhpcy5sb2dvLmFuY2hvci5zZXRUbygwLjUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hZGQudHdlZW4odGhpcy5iYWNrZ3JvdW5kKS50byh7IGFscGhhOiAxIH0sIDIwMDAsIFBoYXNlci5FYXNpbmcuQm91bmNlLkluT3V0LCB0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5hZGQudHdlZW4odGhpcy5sb2dvKS50byh7IHk6IDIyMCB9LCAyMDAwLCBQaGFzZXIuRWFzaW5nLkVsYXN0aWMuT3V0LCB0cnVlLCAyMDAwKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXQub25Eb3duLmFkZE9uY2UodGhpcy5mYWRlT3V0LCB0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZhZGVPdXQoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5hZGQudHdlZW4odGhpcy5iYWNrZ3JvdW5kKS50byh7IGFscGhhOiAwIH0sIDIwMDAsIFBoYXNlci5FYXNpbmcuTGluZWFyLk5vbmUsIHRydWUpO1xyXG4gICAgICAgICAgICB2YXIgdHdlZW4gPSB0aGlzLmFkZC50d2Vlbih0aGlzLmxvZ28pLnRvKHsgeTogODAwIH0sIDIwMDAsIFBoYXNlci5FYXNpbmcuTGluZWFyLk5vbmUsIHRydWUpO1xyXG4gICAgICAgICAgICB0d2Vlbi5vbkNvbXBsZXRlLmFkZCh0aGlzLnN0YXJ0R2FtZSwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGFydEdhbWUoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lLnN0YXRlLnN0YXJ0KCdMZXZlbDEnLCB0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vbGlicy9waGFzZXIuZC50c1wiIC8+XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIENhc3RsZXZhbmlhXHJcbntcclxuICAgIGV4cG9ydCBjbGFzcyBQbGF5ZXIgZXh0ZW5kcyBQaGFzZXIuU3ByaXRlXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3RydWN0b3IoZ2FtZTogUGhhc2VyLkdhbWUsIHg6IG51bWJlciwgeTogbnVtYmVyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc3VwZXIoZ2FtZSwgeCwgeSwgJ3NpbW9uJywgMCk7XHJcbiAgICAgICAgICAgIHRoaXMuYW5jaG9yLnNldFRvKDAuNSk7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9ucy5hZGQoJ3dhbGsnLCBbMCwgMSwgMiwgMywgNF0sIDEwLCB0cnVlKTtcclxuICAgICAgICAgICAgZ2FtZS5hZGQuZXhpc3RpbmcodGhpcyk7XHJcbiAgICAgICAgICAgIGdhbWUucGh5c2ljcy5lbmFibGUodGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB1cGRhdGUoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5ib2R5LnZlbG9jaXR5LnggPSAwO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nYW1lLmlucHV0LmtleWJvYXJkLmlzRG93bihQaGFzZXIuS2V5Ym9hcmQuTEVGVCkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm9keS52ZWxvY2l0eS54ID0gLTE1MDtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9ucy5wbGF5KCd3YWxrJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zY2FsZS54ID09PSAxKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IC0xO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZ2FtZS5pbnB1dC5rZXlib2FyZC5pc0Rvd24oUGhhc2VyLktleWJvYXJkLlJJR0hUKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib2R5LnZlbG9jaXR5LnggPSAxNTA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnMucGxheSgnd2FsaycpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2NhbGUueCA9PT0gLTEpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9ucy5mcmFtZSA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi9saWJzL3BoYXNlci5kLnRzXCIgLz5cclxuXHJcbmV4cG9ydCBuYW1lc3BhY2UgQ2FzdGxldmFuaWFcclxue1xyXG4gICAgZXhwb3J0IGNsYXNzIFByZWxvYWRlciBleHRlbmRzIFBoYXNlci5TdGF0ZVxyXG4gICAge1xyXG4gICAgICAgIHByZWxvYWRCYXI6IFBoYXNlci5TcHJpdGU7XHJcblxyXG4gICAgICAgIHByZWxvYWQoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5wcmVsb2FkQmFyID0gdGhpcy5nYW1lLmFkZC5zcHJpdGUoMjAwLCAyNTAsICdwcmVsb2FkQmFyJyk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZC5zZXRQcmVsb2FkU3ByaXRlKHRoaXMucHJlbG9hZEJhcik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3RpdGxlcGFnZScsICcuL2Fzc2V0cy90aXRsZXBhZ2UuanBnJyk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbG9nbycsICcuL2Fzc2V0cy9sb2dvLnBuZycpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ211c2ljJywgJy4vYXNzZXRzL3RpdGxlLm1wMycsIHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3NpbW9uJywgJy4vYXNzZXRzL3NpbW9uLnBuZycsIDU4LCA5NiwgNSk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbGV2ZWwxJywgJy4vYXNzZXRzL2xldmVsMS5wbmcnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNyZWF0ZSgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgdHdlZW4gPSB0aGlzLmFkZC50d2Vlbih0aGlzLnByZWxvYWRCYXIpLnRvKHsgYWxwaGE6IDAgfSwgMTAwMCxcclxuICAgICAgICAgICAgICAgIFBoYXNlci5FYXNpbmcuTGluZWFyLk5vbmUsIHRydWUpO1xyXG4gICAgICAgICAgICB0d2Vlbi5vbkNvbXBsZXRlLmFkZCh0aGlzLnN0YXJ0TWFpbk1lbnUsIHRoaXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhcnRNYWluTWVudSgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUuc3RhdGUuc3RhcnQoJ01haW5NZW51JywgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdfQ=="}